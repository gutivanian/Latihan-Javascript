

<!DOCTYPE html>
<html>
    <head>
        <title>126. Hookbin</title>
    </head>
    <body>
        <form >
            <label for="username">
                <input type="text" name="username" id="username">
            </label>
            <br>
            <label for="password">
                <input type="password" name="password" id="password">
            </label>
            <br>
            <input type="button" value="Login" id="login">
        </form>

        <h1 id="response">

        </h1>
        <script>
        // Selain JSON dan QueryParam, kita juga bisa mengirim form data dengan ajax
        // Untuk kasus ini kita tetap bisa menggunakan urlsearchparam
        // namun object URLSearchParam dikirim melalui send()
                
            function doLogin(){
                const ajax = new XMLHttpRequest();
                ajax.open("POST", "https://eow4ob4uvgdn0g6.m.pipedream.net")
                ajax.onload = function (){
                    console.info(ajax.responseText)
                }

                ajax.setRequestHeader("Content-Type", "application/x-www-form-urlencoded")

                const form = new URLSearchParams();
                form.append("username", document.getElementById("username").value)
                form.append("password", document.getElementById("password").value)

                ajax.send(form) 
            }

            document.getElementById("login").onclick = doLogin
        </script>
    </body>
</html>